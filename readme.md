# Imedia Project Template Frontend
**Шаблон проекта для быстрого старта**


## Старт проекта

### Склонируй репозиторий и перейди в папку проекта
```
git clone git@bitbucket.org:imediasolutionsby/project-front-template-html.git
```

### Установи модули

```
npm i
```

или в разы в быстрее c [yarn](https://github.com/yarnpkg/yarn)

```
yarn install
```

### Запусти шаблон
```
npm start
```


## Команды для запуска

### Запуск с отслеживанием изменений
```
npm start
```

### Создание нового блока
Для создания нескольких блоков, названия нужно указывать через пробел.
```
npm run make-block [имя-блока] [имя-блока]
```

### Сборка в папку `dist`
```
npm run build
```

### Production cборка в папку `dist`
```
npm run production
```

### Локальный сервер на другом порте
```
PORT=9000 npm start
```

### Уведомления об ошибках `ESLint`
```
NOTIFY=true npm start
```

### Расшарить локальный сервер
```
TUNNEL=true npm start
```

### Открыть ссылку в браузере по умолчанию
```
OPEN=true npm start
```

### Собрать архив из папки `dist`
```
npm run zip
```

### Очистка папки `dist`
```
npm run clean
```

### Деплой всего содержимого папки `dist` в ветку `dist`
```
npm run deploy
```

### Добовление сторонних библиотек в проект
Библиотека устанавливается с помощью npm (с флагом --save) или yarn, далее добавить пути в файле libs-link.js
и перезапустить проект.

## Git hooks
Используется [husky](https://github.com/typicode/husky). Перед каждым `git push` запускается линтер.
Если линтер падает с ошибкой, `git push` не пройдет.


## Структура папок и файлов
```
├── app/                       # Исходники
│   ├── blocks/                # Блоки
│   │   └── block/             # Блок
│   │       ├── block.html     # Разметка блока
│   │       ├── block.js       # Скрипт блока
│   │       └── block.scss     # Стили блока
│   ├── data/                  # Данные в формате JSON
│   ├── pages/                 # Страницы
│   │   └── index.html         # Разметка страницы
│   ├── icons/                 # SVG иконки для генерации векторного спрайта
│   ├── sprites/               # PNG иконки для генерации растрового спрайта
│   ├── resources/             # Статические файлы для копирования в dist
│   ├── scripts/               # Скрипты
│   │   ├── common.js          # Вспомогательные функции проекта
│   │   └── app.js             # Главный скрипт
│   └── styles/                # Стили
│       ├── helpers/           # Помощники
│       │   ├── fonts.scss     # Подключение шрифтов
│       │   ├── mixins.scss    # Примеси
│       │   ├── optimize.scss  # Сброс стилей и фиксы
│       │   ├── svg-size.scss  # Переменные с размерами SVG иконок (автосборка)
│       │   └── variables.scss # Переменные
│       └── app.scss           # Главный стилевой файл
├── dist/                      # Сборка (автогенерация)
│   ├── assets/                # Подключаемые ресурсы
│   │   ├── libs/              # Файлы сторонних библиотек
│   │   │   ├── js/            # JS файлы библиотек
│   │   │   └── css/            # CSS файлы библиотек
│   │   ├── fonts/             # Шрифты
│   │   ├── images/            # Изображения
│   │   │   └── sprites/       # Спрайты (автогенерация)
│   │   ├── scripts/           # Скрипты
│   │   └── styles/            # Стили
│   └── index.html             # Страница
├── tasks/                     # Подключаемые скрипты с задачами для gulpfile.babel.js
│   ├── images.js              # Сборка картинок
│   ├── libs.js                # Сборка сторонних библиотек
│   ├── copy.js                # Копирование
│   ├── default.js             # Итоговые списки задач по умолчанию
│   ├── deploy.js              # Деплой в ветку dist
│   ├── icons.js               # Сборка SVG иконок в один файл
│   ├── scripts.js             # Сборка ES2015 скриптов в Webpack
│   ├── semver.js              # Обновление версии шаблона
│   ├── server.js              # Запуск локального сервера
│   ├── sprite.js              # Сборка спрайтов и CSS переменных
│   ├── styles.js              # Сборка стилей
│   ├── templates.js           # Сборка страниц из Jade шаблонов
│   ├── watch.js               # Отслеживание изменений и запуск задач
│   └── zip.js                 # Архивация папки dist
├── .eslintrc                  # Конфигурация проверки JavaScript в ESLint
├── .stylelintrc               # Конфигурация проверки SCSS в StyleLint
├── .editorconfig              # Конфигурация настроек редактора кода
├── .gitignore                 # Список исключённых файлов из Git
├── browserlist                # Список версий браузеров для Autoprefixer
├── gulpfile.babel.js          # Файл для запуска Gulp.js
├── make-block.js              # Утилита создания новых блоков
├── libs-links.js              # Пути к сторонним библиотекам
├── package.json               # Список модулей и прочей информации
├── readme.md                  # Документация шаблона
└── webpack.conf.js            # Конфигурация Webpack.js
```
